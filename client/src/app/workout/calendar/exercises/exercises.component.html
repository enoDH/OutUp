<div class="row">
  <div>
    <h5 class="col s12 m10 offset-m1 l6 offset-l3 center-align create-training z-depth-5">
      Exercises
    </h5>

    <div class="training-week col s12 m12 l12 xl12 z-depth-5">
      <div class="col s12 m5 l5 xl5 workout-day" *ngFor="let exercise of exercises">
        <a *ngIf="exercise.status; else success"
          (click)="open(exercise.exerciseId, exercise.workoutId)">{{exercise.name}}</a>
        <ng-template #success>
          <p class="center-align" style="margin: 0px; color: #37c978">Done</p>
        </ng-template>
      </div>
    </div>
  </div>
</div>


<div #modalReps class="modal-exercises">
  <div *ngIf="data$ | async as modalData; else loader">
    <div class="modal-content">
      <div class="row">
        <div class="col s12 center-align">
          <video class="responsive-video z-depth-5" controls>
            <source src="{{modalData.video}}" type="video/mp4">
          </video>
        </div>

        <div class="col s12 m8 offset-m2 l6 offset-l3 xl4 offset-xl4 center-align">
          <div class="reps z-depth-3">
            <form [formGroup]="form">
              <div formArrayName="reps">
                <div *ngFor="let reps of modalData.reps; let i = index">
                  <p>
                    <label>
                      <input type="checkbox" formControlName="{{i}}">
                      <span>{{reps}} reps</span>
                    </label>
                  </p>
                </div>
              </div>
            </form>
          </div>
          <button class="btn_login col s4 offset-s1 m4 offset-m2 z-depth-4" (click)="close()">Close</button>
          <button class="btn_login col s4 offset-s1 m4 offset-m2 z-depth-4" [disabled]="form.invalid || form.disabled"
            (click)="done( modalData.workoutId, modalData.exerciseId, modalData.status)">Done</button>
        </div>

      </div>
    </div>
  </div>
  <ng-template #loader>
    <app-loader></app-loader>
  </ng-template>
</div>